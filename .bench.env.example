# ==============================================================================
# Benchmark Configuration
# Copy this file to .bench.env and customize for your environment.
#
#   cp .bench.env.example .bench.env
#   vim .bench.env
#
# All variables can also be set via environment (env vars take precedence).
# ==============================================================================

# ── Required ─────────────────────────────────────────────────────────────────
# Path to Qwen3-VL-8B model weights (MUST be set before running benchmarks)
QA_MODEL_PATH=/path/to/Qwen3-VL-8B

# ── Model Settings ───────────────────────────────────────────────────────────
# Name used by vLLM --served-model-name
QA_MODEL_NAME=Qwen3-VL-8B

# ── GPU Allocation ───────────────────────────────────────────────────────────
# GPU indices for vLLM QA servers
# Default layout for 4x A6000:
#   GPU 0 -> DeepSeek-OCR v1 (auto-assigned during benchmark)
#   GPU 1 -> DeepSeek-OCR v2 (auto-assigned during benchmark)
#   GPU 2 -> vLLM Server A
#   GPU 3 -> vLLM Server B
VLLM_GPU_A=2
VLLM_GPU_B=3

# ── Server Ports ─────────────────────────────────────────────────────────────
VLLM_PORT_A=8000
VLLM_PORT_B=8001

# ── vLLM Pool Mode (for OCR-precompute benchmark) ───────────────────────────
# One vLLM instance per GPU in VLLM_GPUS, ports start from VLLM_BASE_PORT.
# Example: VLLM_GPUS=0,1,2,3 and VLLM_BASE_PORT=8000 creates
# endpoints http://localhost:8000/v1 ... http://localhost:8003/v1
VLLM_GPUS=0,1
VLLM_BASE_PORT=8000

# ── Benchmark Settings ───────────────────────────────────────────────────────
# Space-separated list of datasets to evaluate
DATASETS="arxivqa slidevqa"

# Maximum samples per dataset (0 = run all)
MAX_SAMPLES=0

# ── Paths ────────────────────────────────────────────────────────────────────
# Where benchmark results are saved
RESULTS_BASE=data/benchmark_results

# Shared dataset images directory (avoids redundant downloads)
SHARED_DATA_DIR=data/benchmark_data

# ── Timeouts ─────────────────────────────────────────────────────────────────
# Max seconds to wait for vLLM server to become healthy
HEALTH_TIMEOUT=300
